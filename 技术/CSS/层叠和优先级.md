当发现有样式申明冲突时，浏览器使用以下三个规则来决定最后的样式：

1. 样式的来源，自己写的样式文件和浏览器默认样式等
2. 选择器优先级，什么样的选择器优先级会比较高就用哪个
3. 源码顺序，样式表中样式所申明的顺序。

![css](https://cdn.jsdelivr.net/gh/ywxgod/image_source/202201010953791.png)

## 样式的来源

样式的来源一般有用户自己写的样式与浏览器样式，但浏览器默认样式优先级低于用户样式。我们可以自己写样式覆盖浏览器默认样式。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

**用户代理样式**

一般是指浏览器默认样式，比如列表有左侧内边距，list-style-type为disc等

**!important声明**

当样式被标记为important声明时，将使其优先级为来源中优先级最高。如：

```css
color: red !important;
```

所以最终判断样式来源优先级的过程如下：

1. 用户的声明为important的样式
2. 用户的一般样式，没有important声明的
3. 浏览器默认样式

## 选择器的优先级

行内样式优先于任何样式表中声明的样式，也优先于<style>标签中声明的样式。我们把选择器分为以下几类

1. ID选择器 - B
2. 类名，属性选择器，伪类选择器 - C
3. 标签名，伪元素 - D

优先级的准确规则如下：

- 如果某选择器中B类数量更多，则其胜出。
- 如果B类数量一样，则C类数量多的胜出。
- 如果C类数量也一样多，则D类数量多的胜出。
- 如果D类数量也一样多，则后声明的选择器胜出。

伪类选择器(如:hover)和属性选择器(如[type="input"])，与类选择器的优先级一样；通用选择器(*)和组合器(如>、+、~)对优先级没有影响。

## 元素的样式声明顺序(LoVe/HAte)

```css
a:link {
		color: blue;
		text-decoration: none;
}
a:visited {
		color: purple;
}
a:hover {
		text-decoration: underline;
}
a:active {
		color: red;
}
```

如果一个元素同时处于两个或者更多的状态，最后一个状态会覆盖其他状态。对于a标签，如果将鼠标悬停在一个访问过的链接上，悬停效果会生效，如果用户悬停时激活了a标签，则激活的样式会生效。

## 处理层叠时2条通用的法则

1. 在选择器中尽量不要使用ID选择器。
2. 不要使用!important(覆盖行内样式时，可以使用)
3. 尽量不要使用行内样式。

因为不管是ID选择器还是important声明，都是比较难覆盖的，一旦用了它们，你想再覆盖它们就比较麻烦。

## 覆盖important样式的三种方法

1、提升带有important选择器的优先级，如加一个标签，ID或者类。如：

```css
table td { height: 50px !important; }
.myTable td { height: 50px !important; }
#myTable td { height: 50px !important; }
```

2、使用相同的选择器，将其置于已有的样式后面

3、直接改写原来的样式声明，避免使用!important。